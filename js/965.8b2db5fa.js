(self["webpackChunkvue2_template"]=self["webpackChunkvue2_template"]||[]).push([[965],{2965:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var a=function(){var e=this,t=e._self._c;return t("section",{staticClass:"map"},[t("div",{attrs:{id:"map"}}),t("div",{staticClass:"map-search"},[t("el-autocomplete",{attrs:{placeholder:"请输入区县级以上的区域名称","fetch-suggestions":e.querySearch},on:{select:e.search},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search.apply(null,arguments)}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),t("el-button",{staticClass:"download",attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")]),t("el-button",{attrs:{type:"primary"},on:{click:e.download}},[e._v("下载")])],1),t("div",{staticClass:"input-card",staticStyle:{width:"13rem"}},[t("h4",[e._v("官方默认自定义样式")]),t("div",{attrs:{id:"map-styles"}},[t("div",{staticClass:"input-item"},[t("input",{attrs:{type:"radio",name:"mapStyle",checked:"",value:"normal"},on:{change:function(t){return e.inputClick("normal")}}}),t("span",[e._v("标准")]),t("span",{staticClass:"input-text"},[e._v("normal")])]),t("div",{staticClass:"input-item"},[t("input",{attrs:{type:"radio",name:"mapStyle",value:"dark"},on:{change:function(t){return e.inputClick("dark")}}}),t("span",[e._v("幻影黑")]),t("span",{staticClass:"input-text"},[e._v("dark")])]),t("div",{staticClass:"input-item"},[t("input",{attrs:{type:"radio",name:"mapStyle",value:"light"},on:{change:function(t){return e.inputClick("light")}}}),t("span",[e._v("月光银")]),t("span",{staticClass:"input-text"},[e._v("light")])]),t("div",{staticClass:"input-item"},[t("input",{attrs:{type:"radio",name:"mapStyle",value:"whitesmoke"},on:{change:function(t){return e.inputClick("whitesmoke")}}}),t("span",[e._v("远山黛")]),t("span",{staticClass:"input-text"},[e._v("whitesmoke")])]),t("div",{staticClass:"input-item"},[t("input",{attrs:{type:"radio",name:"mapStyle",value:"fresh"},on:{change:function(t){return e.inputClick("fresh")}}}),t("span",[e._v("草色青")]),t("span",{staticClass:"input-text"},[e._v("fresh")])]),t("div",{staticClass:"input-item"},[t("input",{attrs:{type:"radio",name:"mapStyle",value:"grey"},on:{change:function(t){return e.inputClick("grey")}}}),t("span",[e._v("雅士灰")]),t("span",{staticClass:"input-text"},[e._v("grey")])]),t("div",{staticClass:"input-item"},[t("input",{attrs:{type:"radio",name:"mapStyle",value:"graffiti"},on:{change:function(t){return e.inputClick("graffiti")}}}),t("span",[e._v("涂鸦")]),t("span",{staticClass:"input-text"},[e._v("graffiti")])]),t("div",{staticClass:"input-item"},[t("input",{attrs:{type:"radio",name:"mapStyle",value:"macaron"},on:{change:function(t){return e.inputClick("macaron")}}}),t("span",[e._v("马卡龙")]),t("span",{staticClass:"input-text"},[e._v("macaron")])]),t("div",{staticClass:"input-item"},[t("input",{attrs:{type:"radio",name:"mapStyle",value:"blue"},on:{change:function(t){return e.inputClick("blue")}}}),t("span",[e._v("靛青蓝")]),t("span",{staticClass:"input-text"},[e._v("blue")])]),t("div",{staticClass:"input-item"},[t("input",{attrs:{type:"radio",name:"mapStyle",value:"darkblue"},on:{change:function(t){return e.inputClick("darkblue")}}}),t("span",[e._v("极夜蓝")]),t("span",{staticClass:"input-text"},[e._v("darkblue")])]),t("div",{staticClass:"input-item"},[t("input",{attrs:{type:"radio",name:"mapStyle",value:"wine"},on:{change:function(t){return e.inputClick("wine")}}}),t("span",[e._v("酱籽")]),t("span",{staticClass:"input-text"},[e._v("wine")])])])])])},i=[],o=(n(7658),n(3317)),s=n(9928),r=n(1579),l=n.n(r);const p=function(e,t){const n={strokeWeight:2,fillOpacity:.4,fillColor:"#80d8ff",strokeColor:"#0091ea"};return new Promise((a=>{const i=l().defaultsDeep(l().cloneDeep(t),n),o=[];for(let e=0;e<i.path.length;e++){const t=new AMap.Polygon({...i,path:i.path[e]});o.push(t)}const s=new AMap.OverlayGroup(o);e.add(s),i.setView&&e.setFitView(o,!0),a(s)}))};var c=p,u=n(6010);let d=null,f=null,v=[];var h={name:"GetLnglat",async mounted(){d=await(0,o.Z)("map",{viewMode:"3D"},{plugins:["Map3D","AMap.DistrictSearch","AMap.DistrictLayer"],version:"1.4.15",Loca:{version:"1.3.2"}}),this.search(),this.$notify.success({title:"成功",dangerouslyUseHTMLString:!0,message:"<h3>功能说明：</h3>\n                      <h4>1. 使用高德地图的API绘制出经纬度的轮廓</h4>\n                      <h4>2. 支持下载县级以上的经纬度轮廓文件</h4>\n                    "})},data(){return{pathData:"",name:"北京市",restaurants:[{value:"广东省",address:"广东省"},{value:"广州市",address:"广州市"},{value:"河源市",address:"河源市"}]}},methods:{inputClick(e){const t="amap://styles/"+e;d.setMapStyle(t)},querySearch(e,t){const n=this.restaurants,a=e?n.filter(this.createFilter(e)):n;t(a)},isRestaurants(e){return this.restaurants.filter((t=>t.value===e))},createFilter(e){return t=>0===t.value.toLowerCase().indexOf(e.toLowerCase())},search(){return this.name?(0,s.Z)({mask:[this.name]}).then((async e=>{0===this.isRestaurants(this.name).length&&this.restaurants.push({value:this.name,address:this.name}),this.$message({type:"success",message:"查找"+this.name+"的区域数据成功"}),f&&d.remove(f),f=await c(d,{path:e.bounds,setView:!0}),v=e})).catch((()=>{this.$message({type:"error",message:"查找"+this.name+"失败"})})):this.$message({type:"error",message:"请输入区县级以上的区域名称"})},download(){const e=v.content.name,t=JSON.stringify({name:e,data:v.mask}),n=new Blob([t],{type:"text/plain;charset=utf-8"});(0,u.saveAs)(n,e+".json")}}},m=h,g=n(3736),w=(0,g.Z)(m,a,i,!1,null,"8e5a5980",null),y=w.exports},6512:function(e,t,n){"use strict";n(7658),n(1703),function(t,n){e.exports=n()}(0,(function(){function e(e){var a=[];return e.AMapUI&&a.push(t(e.AMapUI)),e.Loca&&a.push(n(e.Loca)),Promise.all(a)}function t(e){return new Promise((function(t,n){var r=[];if(e.plugins)for(var l=0;l<e.plugins.length;l+=1)-1==i.AMapUI.plugins.indexOf(e.plugins[l])&&r.push(e.plugins[l]);if(o.AMapUI===a.failed)n("前次请求 AMapUI 失败");else if(o.AMapUI===a.notload){o.AMapUI=a.loading,i.AMapUI.version=e.version||i.AMapUI.version,l=i.AMapUI.version;var p=document.body||document.head,c=document.createElement("script");c.type="text/javascript",c.src="https://webapi.amap.com/ui/"+l+"/main.js",c.onerror=function(e){o.AMapUI=a.failed,n("请求 AMapUI 失败")},c.onload=function(){if(o.AMapUI=a.loaded,r.length)window.AMapUI.loadUI(r,(function(){for(var e=0,n=r.length;e<n;e++){var a=r[e].split("/").slice(-1)[0];window.AMapUI[a]=arguments[e]}for(t();s.AMapUI.length;)s.AMapUI.splice(0,1)[0]()}));else for(t();s.AMapUI.length;)s.AMapUI.splice(0,1)[0]()},p.appendChild(c)}else o.AMapUI===a.loaded?e.version&&e.version!==i.AMapUI.version?n("不允许多个版本 AMapUI 混用"):r.length?window.AMapUI.loadUI(r,(function(){for(var e=0,n=r.length;e<n;e++){var a=r[e].split("/").slice(-1)[0];window.AMapUI[a]=arguments[e]}t()})):t():e.version&&e.version!==i.AMapUI.version?n("不允许多个版本 AMapUI 混用"):s.AMapUI.push((function(e){e?n(e):r.length?window.AMapUI.loadUI(r,(function(){for(var e=0,n=r.length;e<n;e++){var a=r[e].split("/").slice(-1)[0];window.AMapUI[a]=arguments[e]}t()})):t()}))}))}function n(e){return new Promise((function(t,n){if(o.Loca===a.failed)n("前次请求 Loca 失败");else if(o.Loca===a.notload){o.Loca=a.loading,i.Loca.version=e.version||i.Loca.version;var r=i.Loca.version,l=i.AMap.version.startsWith("2"),p=r.startsWith("2");if(l&&!p||!l&&p)n("JSAPI 与 Loca 版本不对应！！");else{l=i.key,p=document.body||document.head;var c=document.createElement("script");c.type="text/javascript",c.src="https://webapi.amap.com/loca?v="+r+"&key="+l,c.onerror=function(e){o.Loca=a.failed,n("请求 AMapUI 失败")},c.onload=function(){for(o.Loca=a.loaded,t();s.Loca.length;)s.Loca.splice(0,1)[0]()},p.appendChild(c)}}else o.Loca===a.loaded?e.version&&e.version!==i.Loca.version?n("不允许多个版本 Loca 混用"):t():e.version&&e.version!==i.Loca.version?n("不允许多个版本 Loca 混用"):s.Loca.push((function(e){e?n(e):n()}))}))}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var a;(function(e){e.notload="notload",e.loading="loading",e.loaded="loaded",e.failed="failed"})(a||(a={}));var i={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},o={AMap:a.notload,AMapUI:a.notload,Loca:a.notload},s={AMap:[],AMapUI:[],Loca:[]},r=[],l=function(e){"function"==typeof e&&(o.AMap===a.loaded?e(window.AMap):r.push(e))};return{load:function(t){return new Promise((function(n,s){if(o.AMap==a.failed)s("");else if(o.AMap==a.notload){var p=t.key,c=t.version,u=t.plugins;p?(window.AMap&&"lbs.amap.com"!==location.host&&s("禁止多种API加载方式混用"),i.key=p,i.AMap.version=c||i.AMap.version,i.AMap.plugins=u||i.AMap.plugins,o.AMap=a.loading,c=document.body||document.head,window.___onAPILoaded=function(i){if(delete window.___onAPILoaded,i)o.AMap=a.failed,s(i);else for(o.AMap=a.loaded,e(t).then((function(){n(window.AMap)}))["catch"](s);r.length;)r.splice(0,1)[0]()},u=document.createElement("script"),u.type="text/javascript",u.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+i.AMap.version+"&key="+p+"&plugin="+i.AMap.plugins.join(","),u.onerror=function(e){o.AMap=a.failed,s(e)},c.appendChild(u)):s("请填写key")}else if(o.AMap==a.loaded)if(t.key&&t.key!==i.key)s("多个不一致的 key");else if(t.version&&t.version!==i.AMap.version)s("不允许多个版本 JSAPI 混用");else{if(p=[],t.plugins)for(c=0;c<t.plugins.length;c+=1)-1==i.AMap.plugins.indexOf(t.plugins[c])&&p.push(t.plugins[c]);p.length?window.AMap.plugin(p,(function(){e(t).then((function(){n(window.AMap)}))["catch"](s)})):e(t).then((function(){n(window.AMap)}))["catch"](s)}else if(t.key&&t.key!==i.key)s("多个不一致的 key");else if(t.version&&t.version!==i.AMap.version)s("不允许多个版本 JSAPI 混用");else{var d=[];if(t.plugins)for(c=0;c<t.plugins.length;c+=1)-1==i.AMap.plugins.indexOf(t.plugins[c])&&d.push(t.plugins[c]);l((function(){d.length?window.AMap.plugin(d,(function(){e(t).then((function(){n(window.AMap)}))["catch"](s)})):e(t).then((function(){n(window.AMap)}))["catch"](s)}))}}))},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,i={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},o={AMap:a.notload,AMapUI:a.notload,Loca:a.notload},s={AMap:[],AMapUI:[],Loca:[]}}}}))},6010:function(e,t,n){var a,i,o;(function(n,s){i=[],a=s,o="function"===typeof a?a.apply(t,i):a,void 0===o||(e.exports=o)})(0,(function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function a(e,t,n){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){l(a.response,t,n)},a.onerror=function(){console.error("could not download file")},a.send()}function i(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(a){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var s="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,r=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=s.saveAs||("object"!=typeof window||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(e,t,n){var r=s.URL||s.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?o(l):i(l.href)?a(e,t,n):o(l,l.target="_blank")):(l.href=r.createObjectURL(e),setTimeout((function(){r.revokeObjectURL(l.href)}),4e4),setTimeout((function(){o(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,s){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,s),n);else if(i(e))a(e,n,s);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout((function(){o(r)}))}}:function(e,t,n,i){if(i=i||open("","_blank"),i&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return a(e,t,n);var o="application/octet-stream"===e.type,l=/constructor/i.test(s.HTMLElement)||s.safari,p=/CriOS\/[\d]+/.test(navigator.userAgent);if((p||o&&l||r)&&"undefined"!=typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=p?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},c.readAsDataURL(e)}else{var u=s.URL||s.webkitURL,d=u.createObjectURL(e);i?i.location=d:location.href=d,i=null,setTimeout((function(){u.revokeObjectURL(d)}),4e4)}});s.saveAs=l.saveAs=l,e.exports=l}))},9928:function(e,t,n){"use strict";n(7658);var a=n(1579),i=n.n(a);const o=function(e){const t={subdistrict:0,extensions:"all",level:"district",origin:!0};return new Promise(((n,a)=>{const o=i().defaultsDeep(i().cloneDeep(e),t),s=new AMap.DistrictSearch(o);o.mask="string"===typeof o.mask?[o.mask]:o.mask;const r=[],l=[],p=[],c=[];for(let e=0;e<o.mask.length;e++){const t=o.mask[e];s.search(t,((e,t)=>{if("complete"===e){const e=t.districtList[0],a=t.districtList[0].boundaries;c.push(a);let i=[];if(o.origin){for(let e=0;e<a.length;e++)r.push([a[e]]),p.push(a[e]);i={mask:r,bounds:p,outLine:c,content:e},n(i)}else{for(let e=0;e<a.length;e++){for(let t=0;t<a[e].length;t++)r.push([a[e][t].lng,a[e][t].lat]);l.push(r),p.push(a[e])}i={mask:r,bounds:p,outLine:c,content:e},n(i)}}else a({status:0,msg:"查找失败"})}))}}))};t["Z"]=o},3317:function(e,t,n){"use strict";var a=n(1579),i=n.n(a),o=n(6512),s=n.n(o);let r={};window._AMapSecurityConfig={securityJsCode:"530231bc60a6258f7fa6b84d5d532761"};const l=(e,t,n)=>{s().reset&&s().reset();const a={zoom:5,center:[105.602725,37.076636]};return new Promise(((o,l)=>{const p=i().defaultsDeep(i().cloneDeep(t),a),c=i().defaultsDeep(i().cloneDeep(n),{key:"720d49e9651522b9b4661195147dc067",version:"2.0",plugins:[]});s().load(c).then((t=>{r=c,console.log(r,"lastMapOptions");const n=new t.Map(e,p);o(n)})).catch((e=>{l(e)}))}))};t["Z"]=l}}]);