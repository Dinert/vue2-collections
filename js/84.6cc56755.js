"use strict";(self["webpackChunkvue2_template"]=self["webpackChunkvue2_template"]||[]).push([[84],{8703:function(a,e,t){t.r(e),t.d(e,{default:function(){return A}});var l=function(){var a=this,e=a._self._c;return e("section",{staticClass:"map"},[e("div",{attrs:{id:"map"}}),e("div",{staticClass:"map-search"},[e("el-select",{attrs:{placeholder:"请选择轮廓的区域"},on:{change:a.changeArea},model:{value:a.areaName,callback:function(e){a.areaName=e},expression:"areaName"}},a._l(a.areaList,(function(a){return e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),1),e("el-button",{attrs:{type:"primary"},on:{click:a.toggle}},[a._v(a._s(a.flag?"关闭轮廓":"打开轮廓"))])],1)])},n=[],s=t(9316),o=t(2893),c=(t(4114),t(1278)),i=t.n(c),r=t(8077),u=t(2522),p=t.n(u);const f=function(a,e){const t={path:[],type:"Polygon",style:{fillOpacity:0,weight:2}};return new Promise((l=>{const n=p().defaultsDeep(p().cloneDeep(e),t),s=n.path,o=n.type,c=[];let u,f=0;for(let a=0;a<s.length;a++){const e=s[a];let t={coordinates:[e],type:o};n.latLngs=e,t="function"===typeof n.configCallback&&n.configCallback(t)||t;const l=i().geoJSON(t,n);"function"===typeof n.callback&&n.callback.call(l,l),f<e.length&&(f=e.length,u=l),c.push(l)}const g=i().layerGroup(c,{maxGeo:u});a.addLayer(g),n.setView&&(0,r.A)(a,u.getBounds(),{animate:!0}),l(g)}))};var g=f;const h=t(9718),d=t(4567),m=t(5788);let y=null,v=null;var b={name:"Region",async mounted(){y=await(0,s.A)(this.leafletId),(0,o.A)(y,{layerName:"智图-默认图层"}),v=await g(y,{path:d.data,setView:!0}),this.$notify.success({title:"成功",message:"绘制经纬度区域轮廓"})},data(){return{leafletId:"map",region:null,areaName:"广东",areaList:[{label:"中国",value:"中国"},{label:"广东",value:"广东"},{label:"广州",value:"广州"}],flag:!0}},methods:{async toggle(){this.flag?(await y.removeLayer(v),this.flag=!1):(await y.addLayer(v),this.flag=!0)},async changeArea(a){await y.removeLayer(v),console.log("aaa"),v=null,v="广东"===a?await g(y,{path:d.data}):"广州"===a?await g(y,{path:m.data}):await g(y,{path:h.data})}}},w=b,k=t(1656),L=(0,k.A)(w,l,n,!1,null,"76d99ffb",null),A=L.exports},8077:function(a,e){const t=function(a,e,t){"[object String]"===Object.prototype.toString.call(e[0])?a.setView(L.latLng(e.reverse()),t):a.fitBounds(e)};e.A=t}}]);