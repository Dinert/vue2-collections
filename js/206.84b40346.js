"use strict";(self["webpackChunkvue2_template"]=self["webpackChunkvue2_template"]||[]).push([[206],{7206:function(t,e,s){s.r(e),s.d(e,{default:function(){return h}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"headerTabs"},[e("transition-group",{staticClass:"headerTabs-ul",attrs:{name:"list",tag:"ul",appear:""}},[t._l(t.tabsList,(function(s,i){return[e("li",{key:s.url,staticClass:"headerTabs-ul-li",on:{click:function(e){return t.changePath(s)},contextmenu:function(e){return e.preventDefault(),t.openMenu(s,e,i)}}},[e("div",{staticClass:"headerTabs-ul-li-item",class:{active:t.path===s.url}},[e("span",[t._v(t._s(s.message))]),s.ever?t._e():e("span",{staticClass:"headerTabs-ul-li-item-close el-icon-close",on:{click:function(e){return t.closeTabs(s,i)}}})])])]}))],2),e("ul",{directives:[{name:"show",rawName:"v-show",value:t.contextVisible,expression:"contextVisible"}],staticClass:"headerTabs-contextmenu",style:{left:t.positions.left+"px",top:t.positions.top+"px"}},[e("li",{on:{click:t.refreshSelectTab}},[t._v("刷新")]),t.currentTab.ever?t._e():e("li",{on:{click:t.closed}},[t._v("关闭")]),e("li",{on:{click:t.closedOther}},[t._v("关闭其它")]),e("li",{on:{click:t.closedAll}},[t._v("关闭所有")])])],1)},a=[],r=(s(7658),{name:"HeaderTabs",mounted(){document.onclick=()=>{this.contextVisible=!1}},data(){return{contextVisible:!1,tabsList:[{message:"首页",url:"/home",ever:!0}],positions:{top:0,left:0},currentTab:{},currentTabIndex:null}},computed:{path(){return this.$route.path}},methods:{changePath(t){t.url!==this.$route.path&&(this.$route.meta.title?this.$router.replace({path:t.url}):this.$router.replace({path:"/404"}))},closeTabs(t,e){if(this.tabsList.splice(e,1),t.url===this.path){const t=this.tabsList[e],s=this.tabsList[e-1];t?this.$router.replace({path:t.url}):s?this.$router.replace({path:s.url}):this.$router.replace({path:"/"})}},async closed(){this.closeTabs(this.currentTab,this.currentTabIndex)},openMenu(t,e,s){this.positions.left=e.x+10,this.positions.top=e.y+10,this.currentTab=t,this.contextVisible=!0,this.currentTabIndex=s},refreshSelectTab(){this.$router.replace({path:"/"}),this.$nextTick((()=>{this.$router.replace({path:this.currentTab.url})}))},closedOther(){this.currentTab.ever?this.tabsList.splice(1):(this.tabsList.splice(this.currentTabIndex+1),this.tabsList.splice(1,this.currentTabIndex-1)),this.$nextTick((()=>{this.$router.replace({path:this.currentTab.url})}))},closedAll(){this.tabsList.splice(1),this.$nextTick((()=>{this.$router.replace({path:"/"})}))}},watch:{path:{handler(t,e){const s=this.tabsList.findIndex((e=>e.url===t));if(-1===s)if(this.$route.meta.title)this.tabsList.push({url:t,message:this.$route.meta.title});else{const t=this.tabsList.findIndex((t=>"/404"===t.url));-1===t&&this.tabsList.push({url:"/404",message:"404"})}},immediate:!0}}}),l=r,n=s(3736),c=(0,n.Z)(l,i,a,!1,null,"79e253a6",null),h=c.exports}}]);